{"ast":null,"code":"var _jsxFileName = \"D:\\\\REACT PROJECTS\\\\my-app\\\\src\\\\containers\\\\Category\\\\index.js\";\nimport React, { useEffect, useState } from 'react';\nimport Layout from '../../components/Layout';\nimport { Container, Row, Col, Modal, Button } from 'react-bootstrap';\nimport { useDispatch, useSelector } from 'react-redux';\nimport { getAllCategory } from '../../actions/';\nimport Input from '../../components/UI/Input';\n/**\r\n* @author\r\n* @function Category\r\n**/\n\nconst Category = props => {\n  const category = useSelector(state => state.category);\n  const [categoryName, setcategoryName] = useState('');\n  const [parentCategoryId, setparentCategoryId] = useState('');\n  const [categoryImage, setCategoryImage] = useState('');\n  const [show, setShow] = useState(false);\n  const dispatch = useDispatch();\n  useEffect(() => {\n    console.log(\"category.js\");\n    dispatch(getAllCategory());\n  }, []);\n\n  const handleClose = () => {\n    const form = new FormData();\n    const cat = {\n      categoryName,\n      parentCategoryId,\n      categoryImage\n    };\n    setShow(false);\n  };\n\n  const handleShow = () => setShow(true);\n\n  const renderCategories = categories => {\n    let mycategories = [];\n\n    for (let category of categories) {\n      mycategories.push( /*#__PURE__*/React.createElement(\"li\", {\n        key: category.name,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 50,\n          columnNumber: 17\n        }\n      }, category.name, category.children.lenth > 0 ? /*#__PURE__*/React.createElement(\"ul\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 52,\n          columnNumber: 53\n        }\n      }, renderCategories(category.children)) : null));\n    }\n\n    return mycategories;\n  };\n\n  const createCategoryList = (categories, options = []) => {\n    for (let category of categories) {\n      options.push({\n        value: category._id,\n        name: category.name\n      });\n\n      if (category.children.length > 0) {\n        createCategoryList(category.children, options);\n      }\n    }\n\n    return options;\n  };\n\n  const handleCategoryImage = e => {\n    setCategoryImage(e.target.files[0]);\n  };\n\n  return /*#__PURE__*/React.createElement(Layout, {\n    sidebar: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 75,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(Container, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 76,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(Row, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 77,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(Col, {\n    md: 12,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 78,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    style: {\n      display: 'flex',\n      justifyContent: 'space-between'\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 79,\n      columnNumber: 25\n    }\n  }, /*#__PURE__*/React.createElement(\"h3\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 80,\n      columnNumber: 29\n    }\n  }, \"Category\"), /*#__PURE__*/React.createElement(\"button\", {\n    onClick: handleShow,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 81,\n      columnNumber: 29\n    }\n  }, \"Add\")))), /*#__PURE__*/React.createElement(Row, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 85,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(Col, {\n    md: 12,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 87,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(\"ul\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 88,\n      columnNumber: 25\n    }\n  }, renderCategories(category.categories))))), /*#__PURE__*/React.createElement(Modal, {\n    show: show,\n    onHide: handleClose,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 97,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(Modal.Header, {\n    closeButton: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 98,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(Modal.Title, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 99,\n      columnNumber: 21\n    }\n  }, \"Add New Category\")), /*#__PURE__*/React.createElement(Modal.Body, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 101,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(Input, {\n    label: \"Category Name\",\n    placeholder: 'Category Name',\n    value: categoryName,\n    onChange: e => setcategoryName(e.target.value),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 103,\n      columnNumber: 21\n    }\n  }), /*#__PURE__*/React.createElement(\"select\", {\n    className: \"form-control\",\n    value: parentCategoryId,\n    onChange: e => setparentCategoryId(e.target.value),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 110,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(\"option\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 115,\n      columnNumber: 25\n    }\n  }, \"select category\"), createCategoryList(category.categories).map(option => /*#__PURE__*/React.createElement(\"option\", {\n    key: option.value,\n    value: option.value,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 118,\n      columnNumber: 33\n    }\n  }, option.name))), /*#__PURE__*/React.createElement(\"input\", {\n    type: \"file\",\n    name: \"categoryImage\",\n    onChange: handleCategoryImage,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 122,\n      columnNumber: 21\n    }\n  })), /*#__PURE__*/React.createElement(Modal.Footer, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 124,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(Button, {\n    variant: \"primary\",\n    onClick: handleClose,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 125,\n      columnNumber: 21\n    }\n  }, \"Save Changes\"))));\n};\n\nexport default Category;","map":{"version":3,"sources":["D:/REACT PROJECTS/my-app/src/containers/Category/index.js"],"names":["React","useEffect","useState","Layout","Container","Row","Col","Modal","Button","useDispatch","useSelector","getAllCategory","Input","Category","props","category","state","categoryName","setcategoryName","parentCategoryId","setparentCategoryId","categoryImage","setCategoryImage","show","setShow","dispatch","console","log","handleClose","form","FormData","cat","handleShow","renderCategories","categories","mycategories","push","name","children","lenth","createCategoryList","options","value","_id","length","handleCategoryImage","e","target","files","display","justifyContent","map","option"],"mappings":";AAAA,OAAOA,KAAP,IAAgBC,SAAhB,EAA2BC,QAA3B,QAA2C,OAA3C;AACA,OAAOC,MAAP,MAAmB,yBAAnB;AACA,SAASC,SAAT,EAAoBC,GAApB,EAAyBC,GAAzB,EAA8BC,KAA9B,EAAqCC,MAArC,QAAmD,iBAAnD;AACA,SAASC,WAAT,EAAsBC,WAAtB,QAAyC,aAAzC;AACA,SAASC,cAAT,QAA+B,gBAA/B;AACA,OAAOC,KAAP,MAAkB,2BAAlB;AACA;;;;;AAKA,MAAMC,QAAQ,GAAIC,KAAD,IAAW;AAExB,QAAMC,QAAQ,GAAGL,WAAW,CAACM,KAAK,IAAIA,KAAK,CAACD,QAAhB,CAA5B;AACA,QAAM,CAACE,YAAD,EAAeC,eAAf,IAAkChB,QAAQ,CAAC,EAAD,CAAhD;AACA,QAAM,CAACiB,gBAAD,EAAmBC,mBAAnB,IAA0ClB,QAAQ,CAAC,EAAD,CAAxD;AACA,QAAM,CAACmB,aAAD,EAAgBC,gBAAhB,IAAoCpB,QAAQ,CAAC,EAAD,CAAlD;AAEA,QAAM,CAACqB,IAAD,EAAOC,OAAP,IAAkBtB,QAAQ,CAAC,KAAD,CAAhC;AAEA,QAAMuB,QAAQ,GAAGhB,WAAW,EAA5B;AAEAR,EAAAA,SAAS,CAAC,MAAM;AACZyB,IAAAA,OAAO,CAACC,GAAR,CAAY,aAAZ;AAEAF,IAAAA,QAAQ,CAACd,cAAc,EAAf,CAAR;AACH,GAJQ,EAIN,EAJM,CAAT;;AAMA,QAAMiB,WAAW,GAAG,MAAM;AAEtB,UAAMC,IAAI,GAAE,IAAIC,QAAJ,EAAZ;AAEA,UAAMC,GAAG,GAAE;AACPd,MAAAA,YADO;AAEPE,MAAAA,gBAFO;AAGPE,MAAAA;AAHO,KAAX;AAMAG,IAAAA,OAAO,CAAC,KAAD,CAAP;AACH,GAXD;;AAeI,QAAMQ,UAAU,GAAG,MAAMR,OAAO,CAAC,IAAD,CAAhC;;AAEJ,QAAMS,gBAAgB,GAAIC,UAAD,IAAgB;AACrC,QAAIC,YAAY,GAAG,EAAnB;;AACA,SAAK,IAAIpB,QAAT,IAAqBmB,UAArB,EAAiC;AAC7BC,MAAAA,YAAY,CAACC,IAAb,eACI;AAAI,QAAA,GAAG,EAAErB,QAAQ,CAACsB,IAAlB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACKtB,QAAQ,CAACsB,IADd,EAEKtB,QAAQ,CAACuB,QAAT,CAAkBC,KAAlB,GAA0B,CAA1B,gBAA+B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SAAKN,gBAAgB,CAAClB,QAAQ,CAACuB,QAAV,CAArB,CAA/B,GAAiF,IAFtF,CADJ;AAMH;;AACD,WAAOH,YAAP;AACH,GAXD;;AAaA,QAAMK,kBAAkB,GAAG,CAACN,UAAD,EAAaO,OAAO,GAAG,EAAvB,KAA8B;AAErD,SAAK,IAAI1B,QAAT,IAAqBmB,UAArB,EAAiC;AAC7BO,MAAAA,OAAO,CAACL,IAAR,CAAa;AAAEM,QAAAA,KAAK,EAAE3B,QAAQ,CAAC4B,GAAlB;AAAuBN,QAAAA,IAAI,EAAEtB,QAAQ,CAACsB;AAAtC,OAAb;;AACA,UAAItB,QAAQ,CAACuB,QAAT,CAAkBM,MAAlB,GAA2B,CAA/B,EAAkC;AAC9BJ,QAAAA,kBAAkB,CAACzB,QAAQ,CAACuB,QAAV,EAAoBG,OAApB,CAAlB;AACH;AACJ;;AACD,WAAOA,OAAP;AACH,GATD;;AAWA,QAAMI,mBAAmB,GAAIC,CAAD,IAAO;AAC/BxB,IAAAA,gBAAgB,CAACwB,CAAC,CAACC,MAAF,CAASC,KAAT,CAAe,CAAf,CAAD,CAAhB;AACH,GAFD;;AAIA,sBACI,oBAAC,MAAD;AAAQ,IAAA,OAAO,MAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACI,oBAAC,SAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACI,oBAAC,GAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACI,oBAAC,GAAD;AAAK,IAAA,EAAE,EAAE,EAAT;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACI;AAAK,IAAA,KAAK,EAAE;AAAEC,MAAAA,OAAO,EAAE,MAAX;AAAmBC,MAAAA,cAAc,EAAE;AAAnC,KAAZ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,gBADJ,eAEI;AAAQ,IAAA,OAAO,EAAElB,UAAjB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,WAFJ,CADJ,CADJ,CADJ,eASI,oBAAC,GAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBAEI,oBAAC,GAAD;AAAK,IAAA,EAAE,EAAE,EAAT;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACKC,gBAAgB,CAAClB,QAAQ,CAACmB,UAAV,CADrB,CADJ,CAFJ,CATJ,CADJ,eAsBI,oBAAC,KAAD;AAAO,IAAA,IAAI,EAAEX,IAAb;AAAmB,IAAA,MAAM,EAAEK,WAA3B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACI,oBAAC,KAAD,CAAO,MAAP;AAAc,IAAA,WAAW,MAAzB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACI,oBAAC,KAAD,CAAO,KAAP;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,wBADJ,CADJ,eAII,oBAAC,KAAD,CAAO,IAAP;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBAEI,oBAAC,KAAD;AACI,IAAA,KAAK,EAAC,eADV;AAEI,IAAA,WAAW,EAAE,eAFjB;AAGI,IAAA,KAAK,EAAEX,YAHX;AAII,IAAA,QAAQ,EAAG6B,CAAD,IAAO5B,eAAe,CAAC4B,CAAC,CAACC,MAAF,CAASL,KAAV,CAJpC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAFJ,eASI;AACI,IAAA,SAAS,EAAC,cADd;AAEI,IAAA,KAAK,EAAEvB,gBAFX;AAGI,IAAA,QAAQ,EAAG2B,CAAD,IAAO1B,mBAAmB,CAAC0B,CAAC,CAACC,MAAF,CAASL,KAAV,CAHxC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBAKI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,uBALJ,EAOQF,kBAAkB,CAACzB,QAAQ,CAACmB,UAAV,CAAlB,CAAwCiB,GAAxC,CAA4CC,MAAM,iBAC9C;AAAQ,IAAA,GAAG,EAAEA,MAAM,CAACV,KAApB;AAA2B,IAAA,KAAK,EAAEU,MAAM,CAACV,KAAzC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAAiDU,MAAM,CAACf,IAAxD,CADJ,CAPR,CATJ,eAqBI;AAAO,IAAA,IAAI,EAAC,MAAZ;AAAmB,IAAA,IAAI,EAAC,eAAxB;AAAwC,IAAA,QAAQ,EAAEQ,mBAAlD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IArBJ,CAJJ,eA2BI,oBAAC,KAAD,CAAO,MAAP;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACI,oBAAC,MAAD;AAAQ,IAAA,OAAO,EAAC,SAAhB;AAA0B,IAAA,OAAO,EAAEjB,WAAnC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBADJ,CA3BJ,CAtBJ,CADJ;AAkEH,CAhID;;AAkIA,eAAef,QAAf","sourcesContent":["import React, { useEffect, useState } from 'react';\r\nimport Layout from '../../components/Layout';\r\nimport { Container, Row, Col, Modal, Button } from 'react-bootstrap';\r\nimport { useDispatch, useSelector } from 'react-redux';\r\nimport { getAllCategory } from '../../actions/';\r\nimport Input from '../../components/UI/Input';\r\n/**\r\n* @author\r\n* @function Category\r\n**/\r\n\r\nconst Category = (props) => {\r\n\r\n    const category = useSelector(state => state.category);\r\n    const [categoryName, setcategoryName] = useState('');\r\n    const [parentCategoryId, setparentCategoryId] = useState('');\r\n    const [categoryImage, setCategoryImage] = useState('');\r\n\r\n    const [show, setShow] = useState(false);\r\n\r\n    const dispatch = useDispatch();\r\n\r\n    useEffect(() => {\r\n        console.log(\"category.js\");\r\n\r\n        dispatch(getAllCategory());\r\n    }, []);\r\n\r\n    const handleClose = () => {\r\n        \r\n        const form= new FormData();\r\n\r\n        const cat ={\r\n            categoryName,\r\n            parentCategoryId,\r\n            categoryImage\r\n        };\r\n        \r\n        setShow(false);\r\n    }\r\n    \r\n    \r\n    \r\n        const handleShow = () => setShow(true);\r\n\r\n    const renderCategories = (categories) => {\r\n        let mycategories = [];\r\n        for (let category of categories) {\r\n            mycategories.push(\r\n                <li key={category.name}>\r\n                    {category.name}\r\n                    {category.children.lenth > 0 ? (<ul>{renderCategories(category.children)}</ul>) : null}\r\n                </li>\r\n            );\r\n        }\r\n        return mycategories;\r\n    }\r\n\r\n    const createCategoryList = (categories, options = []) => {\r\n\r\n        for (let category of categories) {\r\n            options.push({ value: category._id, name: category.name });\r\n            if (category.children.length > 0) {\r\n                createCategoryList(category.children, options)\r\n            }\r\n        }\r\n        return options;\r\n    }\r\n\r\n    const handleCategoryImage = (e) => {\r\n        setCategoryImage(e.target.files[0]);\r\n    }\r\n\r\n    return (\r\n        <Layout sidebar>\r\n            <Container>\r\n                <Row>\r\n                    <Col md={12}>\r\n                        <div style={{ display: 'flex', justifyContent: 'space-between' }}>\r\n                            <h3>Category</h3>\r\n                            <button onClick={handleShow}>Add</button>\r\n                        </div>\r\n                    </Col>\r\n                </Row>\r\n                <Row>\r\n\r\n                    <Col md={12}>\r\n                        <ul>\r\n                            {renderCategories(category.categories)}\r\n\r\n                        </ul>\r\n                    </Col>\r\n                </Row>\r\n\r\n\r\n            </Container>\r\n            <Modal show={show} onHide={handleClose}>\r\n                <Modal.Header closeButton>\r\n                    <Modal.Title>Add New Category</Modal.Title>\r\n                </Modal.Header>\r\n                <Modal.Body>\r\n\r\n                    <Input\r\n                        label=\"Category Name\"\r\n                        placeholder={'Category Name'}\r\n                        value={categoryName}\r\n                        onChange={(e) => setcategoryName(e.target.value)}\r\n\r\n                    />\r\n                    <select\r\n                        className=\"form-control\"\r\n                        value={parentCategoryId}\r\n                        onChange={(e) => setparentCategoryId(e.target.value)}\r\n                    >\r\n                        <option>select category</option>\r\n                        {\r\n                            createCategoryList(category.categories).map(option =>\r\n                                <option key={option.value} value={option.value}>{option.name}</option>)\r\n                        }\r\n                    </select>\r\n\r\n                    <input type=\"file\" name=\"categoryImage\" onChange={handleCategoryImage} />\r\n                </Modal.Body>\r\n                <Modal.Footer>\r\n                    <Button variant=\"primary\" onClick={handleClose}>\r\n                        Save Changes\r\n                    </Button>\r\n                </Modal.Footer>\r\n            </Modal>\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n        </Layout>\r\n    )\r\n\r\n}\r\n\r\nexport default Category"]},"metadata":{},"sourceType":"module"}